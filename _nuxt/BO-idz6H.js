import{_ as V}from"./aHje4Ec0.js";import{p as B,a as n,o,k as _,h as c,c as u,t as y,n as f,w as d,ag as z,d as t,_ as I,F as q,A,M as E,H as M,v as R,q as C,y as F,m as O,b as N,s as T,ah as G,z as J,i as U}from"./C1HwacJA.js";import{s as k}from"./BEoR3jWl.js";import{_ as K}from"./Cho71RTy.js";import{_ as Q}from"./Cl3PwVJS.js";import{q as H,a as W}from"./Cgw4wXts.js";import{u as S}from"./BPlNW2Cn.js";const X={class:"border-b border-[var(--ui-border)] pb-6 mb-8 space-y-4"},Y={class:"flex items-center gap-3"},Z={class:"text-3xl lg:text-4xl font-bold text-[var(--ui-text-highlighted)]"},ee={key:0,class:"text-lg text-[var(--ui-text-muted)]"},te={class:"space-y-2"},oe={key:0},se={key:1,class:"flex flex-wrap gap-2"},re=B({__name:"DetailHeader",props:{project:{}},setup(D){return(e,m)=>{const p=E,s=z,h=I;return o(),n("div",X,[_("div",Y,[e.project.icon?(o(),u(p,{key:0,name:e.project.icon,class:"text-4xl lg:text-5xl flex-shrink-0 text-[var(--ui-text-highlighted)]"},null,8,["name"])):c("",!0),_("h1",Z,y(e.project.title),1)]),e.project.description?(o(),n("p",ee,y(e.project.description),1)):c("",!0),_("div",te,[e.project.phase?(o(),n("div",oe,[f(h,{to:`/projects?phase=${t(k)(e.project.phase)}`},{default:d(()=>[f(s,{label:e.project.phase,color:"neutral",size:"md",variant:"subtle"},null,8,["label"])]),_:1},8,["to"])])):c("",!0),e.project.category&&e.project.category.length>0?(o(),n("div",se,[(o(!0),n(q,null,A(e.project.category,r=>(o(),u(h,{key:r,to:`/projects?category=${t(k)(r)}`},{default:d(()=>[f(s,{label:r,color:"neutral",size:"md",variant:"outline"},null,8,["label"])]),_:2},1032,["to"]))),128))])):c("",!0)])])}}}),ae=Object.assign(re,{__name:"ProjectDetailHeader"}),ne={key:0,class:"space-y-3"},le={key:0,class:"text-xs font-bold uppercase tracking-wider text-[var(--ui-text-muted)]"},ie={class:"space-y-2 list-none p-0 m-0"},ce=B({__name:"SidebarLinkList",props:{title:{default:""},links:{}},setup(D){return(e,m)=>{var h;const p=E,s=M;return(h=e.links)!=null&&h.length?(o(),n("div",ne,[e.title?(o(),n("h4",le,y(e.title),1)):c("",!0),_("ul",ie,[(o(!0),n(q,null,A(e.links,(r,P)=>(o(),n("li",{key:P},[f(s,{to:r.to,target:r.target,rel:r.target==="_blank"?"noopener noreferrer":void 0,class:"text-sm text-[var(--ui-text-muted)] hover:text-[var(--ui-primary)] transition-colors group inline-flex items-center gap-1.5","inactive-class":"","active-class":"text-[var(--ui-primary)] font-medium"},{default:d(()=>[r.icon?(o(),u(p,{key:0,name:r.icon,class:"w-4 h-4 flex-shrink-0"},null,8,["name"])):c("",!0),_("span",null,y(r.label),1),r.target==="_blank"?(o(),u(p,{key:1,name:"i-heroicons-arrow-up-right-20-solid",class:"w-4 h-4 opacity-75 group-hover:opacity-100 transition-opacity"})):c("",!0)]),_:2},1032,["to","target","rel"])]))),128))])])):c("",!0)}}}),pe=Object.assign(ce,{__name:"SidebarLinkList"}),ue={class:"prose dark:prose-invert max-w-none prose-headings:scroll-mt-24"},de={key:1},_e={key:2,class:"mt-12 pt-8 border-t border-[var(--ui-border)] flex items-center justify-between gap-8 not-prose"},me={key:1,class:"flex-1"},he={key:3,class:"flex-1"},fe={key:1,class:"py-8 lg:py-12 text-center"},Pe=B({__name:"[slug]",async setup(D){let e,m;const p=R(),{data:s,error:h}=([e,m]=C(async()=>S(()=>G(p.path),async()=>await H("projects").path(p.path).first(),"$6So9oDxjtx")),e=await e,m(),e),{data:r}=([e,m]=C(async()=>S("all-projects-for-dependency-lookup",async()=>await H("projects").select("title","path").all())),e=await e,m(),e);if(h.value||!s.value)throw F({statusCode:404,statusMessage:"Project not found",fatal:!0});O({title:()=>{var a;return((a=s.value)==null?void 0:a.title)||"Project"},meta:[{name:"description",content:()=>{var a;return((a=s.value)==null?void 0:a.description)||"Project details for Metaflowlabs."}}]});const P=N(()=>{var i;const a=[{label:"Home",to:"/",icon:"i-heroicons-home-solid"},{label:"Projects",to:"/projects",icon:"i-heroicons-code-bracket-square-solid"}];return(i=s.value)!=null&&i.title&&a.push({label:s.value.title}),a}),L=N(()=>{var a;return(a=s.value)!=null&&a.dependencies&&r.value?s.value.dependencies.map(i=>{const x=k(i),b=r.value.find(v=>{const j=k(v.title),g=v.path.split("/"),$=g.pop()||g.pop(),w=$?k($):"";return j===x||w&&w===x});return b?{label:b.title,to:b.path,icon:"i-heroicons-share-solid"}:null}).filter(Boolean):[]}),{data:l,pending:ye,error:be}=([e,m]=C(()=>S(()=>`project-surround-${p.path}`,()=>W("projects",p.path,{before:1,after:1,fields:["title","path","order"]}).order("order","ASC"),{watch:[()=>p.path]})),e=await e,m(),e);return(a,i)=>{const x=V,b=ae,v=K,j=J,g=pe,$=Q,w=T;return t(s)?(o(),u(w,{key:0,class:"py-8 lg:py-12"},{default:d(()=>[f($,null,{breadcrumbs:d(()=>[f(x,{items:t(P)},null,8,["items"])]),main:d(()=>[f(b,{project:t(s)},null,8,["project"]),_("article",ue,[t(s).body?(o(),u(v,{key:0,value:t(s)},null,8,["value"])):(o(),n("p",de," No content available for this project yet. ")),t(l)&&(t(l)[0]||t(l)[1])?(o(),n("div",_e,[t(l)[0]?(o(),u(j,{key:0,label:t(l)[0].title,to:t(l)[0].path,class:"text-left",color:"neutral",icon:"i-heroicons-arrow-left-solid",variant:"outline"},{label:d(()=>[i[0]||(i[0]=_("span",{class:"block text-xs text-[var(--ui-text-muted)] mb-0.5"},"Previous",-1)),U(" "+y(t(l)[0].title),1)]),_:1},8,["label","to"])):(o(),n("span",me)),t(l)[1]?(o(),u(j,{key:2,label:t(l)[1].title,to:t(l)[1].path,class:"text-right",color:"neutral",icon:"i-heroicons-arrow-right-solid",trailing:"",variant:"outline"},{label:d(()=>[i[1]||(i[1]=_("span",{class:"block text-xs text-[var(--ui-text-muted)] mb-0.5"},"Next",-1)),U(" "+y(t(l)[1].title),1)]),_:1},8,["label","to"])):(o(),n("span",he))])):c("",!0)])]),right:d(()=>[t(s).resources&&t(s).resources.length>0?(o(),u(g,{key:0,links:t(s).resources,class:"sticky top-24",title:"Resources"},null,8,["links"])):c("",!0),t(L)&&t(L).length>0?(o(),u(g,{key:1,links:t(L),class:"sticky mt-8 top-24",title:"Dependencies"},null,8,["links"])):c("",!0)]),_:1})]),_:1})):(o(),n("div",fe,i[2]||(i[2]=[_("p",null,"Loading project details or project not found...",-1)])))}}});export{Pe as default};
